# üìã REGRAS DE NEG√ìCIO - SERVITASK

## üéØ VIS√ÉO GERAL
Sistema de gerenciamento de tarefas no estilo Kanban, permitindo organiza√ß√£o de projetos atrav√©s de quadros, colunas e cart√µes.

---

## üë§ REGRAS DE USU√ÅRIO

### üìù **Cadastro de Usu√°rio**
- **RN001**: Email deve ser √∫nico no sistema
- **RN002**: Nome deve ter entre 2 e 100 caracteres
- **RN003**: Email deve ter formato v√°lido (regex: `^[^\s@]+@[^\s@]+\.[^\s@]+$`)
- **RN004**: Senha deve ter no m√≠nimo 8 caracteres
- **RN005**: Senha deve conter pelo menos:
  - 1 letra min√∫scula
  - 1 letra mai√∫scula  
  - 1 n√∫mero
  - 1 caractere especial `(!@#$%^&*()_+-=[]{};"\\|,.<>/?)`
- **RN006**: Confirma√ß√£o de senha deve ser id√™ntica √† senha
- **RN007**: Nome ser√° normalizado (trim) antes de salvar
- **RN008**: Email ser√° normalizado (lowercase + trim) antes de salvar
- **RN009**: Tentativa de cadastro com email existente retorna erro 409 Conflict

### üîê **Autentica√ß√£o**
- **RN010**: Login requer email e senha v√°lidos
- **RN011**: Email deve ter formato v√°lido no login
- **RN012**: Senha deve ter no m√≠nimo 6 caracteres no login
- **RN013**: Credenciais inv√°lidas retornam erro 401 Unauthorized
- **RN014**: Login bem-sucedido gera token JWT
- **RN015**: Token JWT √© v√°lido por tempo determinado
- **RN016**: Email √© normalizado (lowercase + trim) no login

### üë§ **Perfil do Usu√°rio**
- **RN017**: Usu√°rio pode alterar seu nome
- **RN018**: Nome no perfil deve ter entre 2 e 100 caracteres
- **RN019**: Usu√°rio pode alterar sua senha
- **RN020**: Para alterar senha, deve informar senha atual correta
- **RN021**: Nova senha deve ser diferente da senha atual
- **RN022**: Nova senha deve atender crit√©rios de seguran√ßa (RN005)
- **RN023**: Altera√ß√£o de perfil requer autentica√ß√£o via token JWT

---

## üìã REGRAS DE QUADROS (BOARDS)

### üìä **Cria√ß√£o de Quadros**
- **RN024**: Usu√°rio autenticado pode criar quadros
- **RN025**: Nome do quadro √© obrigat√≥rio
- **RN026**: Nome do quadro deve ter entre 1 e 255 caracteres
- **RN027**: Quadro criado automaticamente recebe 3 colunas padr√£o:
  - "A Fazer"
  - "Em Progresso" 
  - "Conclu√≠do"
- **RN028**: Quadro √© associado ao usu√°rio que o criou
- **RN029**: URL do quadro usa slug baseado no nome

### üîç **Visualiza√ß√£o de Quadros**
- **RN030**: Usu√°rio s√≥ v√™ quadros que criou
- **RN031**: Lista de quadros √© ordenada por data de cria√ß√£o
- **RN032**: Primeiro quadro da lista √© selecionado automaticamente
- **RN033**: Quadro ativo √© destacado visualmente na navega√ß√£o

### ‚úèÔ∏è **Edi√ß√£o de Quadros**
- **RN034**: Usu√°rio pode editar nome dos pr√≥prios quadros
- **RN035**: Nome editado deve atender crit√©rios de RN026
- **RN036**: Altera√ß√£o do nome atualiza a URL (slug)

### üóëÔ∏è **Exclus√£o de Quadros**
- **RN037**: Usu√°rio pode excluir apenas pr√≥prios quadros
- **RN038**: Exclus√£o de quadro requer confirma√ß√£o expl√≠cita
- **RN039**: Modal de confirma√ß√£o deve exibir:
  - Nome do quadro a ser exclu√≠do
  - Aviso que a√ß√£o √© irrevers√≠vel
  - Bot√µes "Cancelar" e "Excluir Quadro"
- **RN040**: Exclus√£o remove quadro e todos seus dados (colunas + cart√µes)
- **RN041**: Se quadro exclu√≠do era o ativo, sistema redireciona para primeiro quadro restante
- **RN042**: Se era o √∫ltimo quadro, redireciona para tela inicial

---

## üìÇ REGRAS DE COLUNAS

### ‚ûï **Cria√ß√£o de Colunas**
- **RN043**: Usu√°rio pode adicionar colunas aos pr√≥prios quadros
- **RN044**: Nova coluna recebe nome padr√£o "Nova Coluna"
- **RN045**: Coluna √© adicionada ao final da lista
- **RN046**: M√°ximo de colunas por quadro n√£o definido (limitado pela interface)

### ‚úèÔ∏è **Edi√ß√£o de Colunas**
- **RN047**: Usu√°rio pode editar nome das colunas dos pr√≥prios quadros
- **RN048**: Nome da coluna √© obrigat√≥rio
- **RN049**: Nome da coluna deve ter entre 1 e 255 caracteres
- **RN050**: Edi√ß√£o abre modal com campo pr√©-preenchido

### üóëÔ∏è **Exclus√£o de Colunas**
- **RN051**: Usu√°rio pode excluir colunas dos pr√≥prios quadros
- **RN052**: Exclus√£o de coluna requer confirma√ß√£o expl√≠cita
- **RN053**: Modal de confirma√ß√£o deve exibir:
  - Nome da coluna a ser exclu√≠da
  - Aviso que a√ß√£o √© irrevers√≠vel
  - Aviso que cart√µes da coluna ser√£o perdidos
- **RN054**: Exclus√£o remove coluna e todos seus cart√µes
- **RN055**: N√£o √© poss√≠vel excluir se restar apenas 1 coluna

---

## üé´ REGRAS DE CART√ïES (CARDS)

### ‚ûï **Cria√ß√£o de Cart√µes**
- **RN056**: Usu√°rio pode adicionar cart√µes √†s colunas dos pr√≥prios quadros
- **RN057**: T√≠tulo do cart√£o √© obrigat√≥rio
- **RN058**: T√≠tulo deve ter entre 1 e 255 caracteres
- **RN059**: Descri√ß√£o √© opcional
- **RN060**: Descri√ß√£o pode ter at√© 100 caracteres
- **RN060.1**: Campo de descri√ß√£o exibe contador din√¢mico (0/100)
- **RN060.2**: Contador fica vermelho quando excede limite
- **RN060.3**: Bot√£o salvar fica desabilitado quando excede limite
- **RN060.4**: Mensagem de erro √© exibida quando excede limite
- **RN061**: Prioridade √© obrigat√≥ria com op√ß√µes:
  - "baixa" (padr√£o)
  - "media"
  - "alta"
- **RN062**: Cart√£o √© adicionado ao final da coluna
- **RN063**: Data de cria√ß√£o √© registrada automaticamente

### üëÅÔ∏è **Visualiza√ß√£o de Cart√µes**
- **RN064**: Cart√µes s√£o exibidos em ordem de cria√ß√£o
- **RN065**: Prioridade √© indicada por cores visuais:
  - Baixa: Verde
  - M√©dia: Amarela/Laranja
  - Alta: Vermelha
- **RN066**: Data de cria√ß√£o √© exibida em formato relativo
- **RN067**: Descri√ß√£o √© truncada se muito longa
- **RN068**: Hover no cart√£o aplica efeito visual (eleva√ß√£o)

### ‚úèÔ∏è **Edi√ß√£o de Cart√µes**
- **RN069**: Usu√°rio pode editar cart√µes dos pr√≥prios quadros
- **RN070**: Modal de edi√ß√£o pr√©-preenche todos os campos
- **RN071**: Mesmas regras de valida√ß√£o da cria√ß√£o se aplicam
- **RN072**: Altera√ß√µes s√£o salvas imediatamente ap√≥s confirma√ß√£o

### üóëÔ∏è **Exclus√£o de Cart√µes**
- **RN073**: Usu√°rio pode excluir cart√µes dos pr√≥prios quadros
- **RN074**: Exclus√£o requer confirma√ß√£o expl√≠cita
- **RN075**: Modal de confirma√ß√£o deve exibir:
  - T√≠tulo do cart√£o a ser exclu√≠do
  - Aviso que a√ß√£o √© irrevers√≠vel
- **RN076**: Exclus√£o remove cart√£o permanentemente

### üîÑ **Movimenta√ß√£o de Cart√µes (Drag & Drop)**
- **RN077**: Cart√µes podem ser arrastados entre colunas
- **RN078**: Durante o arraste, cart√£o recebe classe visual "dragging"
- **RN079**: Posi√ß√£o √© atualizada no backend ap√≥s o drop
- **RN080**: Falha na movimenta√ß√£o exibe mensagem de erro
- **RN081**: Sistema reverte visualmente se opera√ß√£o falhar

---

## ‚úÖ REGRAS DE VALIDA√á√ÉO

### üîç **Valida√ß√£o Frontend**
- **RN082**: Campos obrigat√≥rios s√£o validados antes do envio
- **RN083**: Formato de email √© validado em tempo real
- **RN084**: Crit√©rios de senha s√£o exibidos visualmente durante digita√ß√£o
- **RN085**: Mensagens de erro s√£o espec√≠ficas por tipo de problema
- **RN086**: Campos s√£o normalizados antes do envio (trim, lowercase onde aplic√°vel)

### üõ°Ô∏è **Valida√ß√£o Backend**
- **RN087**: Todas as valida√ß√µes frontend s√£o revalidadas no backend
- **RN088**: Anota√ß√µes Bean Validation (@NotBlank, @Size, @Email, @Pattern)
- **RN089**: Valida√ß√µes customizadas para regras de neg√≥cio espec√≠ficas
- **RN090**: Erros retornam c√≥digos HTTP apropriados (400, 401, 403, 404, 409, 500)
- **RN091**: Respostas de erro s√£o padronizadas com timestamp e estrutura consistente

---

## üé® REGRAS DE INTERFACE

### üöÄ **Estados de Loading**
- **RN092**: Opera√ß√µes ass√≠ncronas exibem indicador de loading
- **RN093**: Bot√µes ficam desabilitados durante processamento
- **RN094**: Loading spinner √© exibido para opera√ß√µes longas
- **RN095**: Estados de loading impedem m√∫ltiplos cliques acidentais

### üì± **Responsividade**
- **RN096**: Interface adapta-se a diferentes tamanhos de tela
- **RN097**: Em mobile, navega√ß√£o √© colaps√°vel
- **RN098**: Cart√µes mant√™m legibilidade em telas pequenas
- **RN099**: Modais ajustam-se ao viewport dispon√≠vel

### üéØ **Feedback Visual**
- **RN100**: Sucesso √© indicado por alertas verdes
- **RN101**: Erros s√£o indicados por alertas vermelhos
- **RN102**: Avisos s√£o indicados por alertas amarelos
- **RN103**: Informa√ß√µes s√£o indicadas por alertas azuis
- **RN104**: Alertas podem ser fechados manualmente
- **RN105**: Alguns alertas fecham automaticamente ap√≥s 5 segundos

### ‚å®Ô∏è **Acessibilidade**
- **RN106**: Modais focam automaticamente no primeiro campo
- **RN107**: Navega√ß√£o por teclado √© suportada
- **RN108**: Bot√µes t√™m labels acess√≠veis
- **RN109**: Cores n√£o s√£o a √∫nica forma de transmitir informa√ß√£o

---

## üîí REGRAS DE SEGURAN√áA

### üõ°Ô∏è **Autentica√ß√£o e Autoriza√ß√£o**
- **RN110**: Todas as rotas da aplica√ß√£o requerem autentica√ß√£o
- **RN111**: Token JWT deve ser enviado no header Authorization
- **RN112**: Token expirado resulta em redirecionamento para login
- **RN113**: Usu√°rio s√≥ acessa pr√≥prios dados (quadros, colunas, cart√µes)
- **RN114**: Tentativas de acesso n√£o autorizado retornam 403 Forbidden

### üîê **Prote√ß√£o de Dados**
- **RN115**: Senhas s√£o criptografadas com hash seguro
- **RN116**: Senhas nunca s√£o retornadas em APIs
- **RN117**: Dados sens√≠veis n√£o s√£o logados
- **RN118**: CORS configurado para dom√≠nios espec√≠ficos
- **RN119**: Headers de seguran√ßa apropriados s√£o enviados

### üö´ **Valida√ß√£o de Entrada**
- **RN120**: Todos os inputs s√£o sanitizados
- **RN121**: Tamanhos m√°ximos s√£o respeitados (preven√ß√£o DoS)
- **RN122**: Caracteres especiais em nomes s√£o permitidos mas controlados
- **RN123**: XSS √© prevenido por escape de dados
- **RN124**: SQL Injection √© prevenido por prepared statements (JPA)

---

## üìä REGRAS DE PERFORMANCE

### ‚ö° **Otimiza√ß√µes**
- **RN125**: Opera√ß√µes cr√≠ticas usam transa√ß√µes de banco
- **RN126**: Consultas s√£o otimizadas para o m√≠nimo de dados necess√°rios
- **RN127**: Estados de loading previnem requisi√ß√µes duplicadas
- **RN128**: Cache √© utilizado onde apropriado (tokens, dados do usu√°rio)

### üì± **Experi√™ncia do Usu√°rio**
- **RN129**: Opera√ß√µes r√°pidas (<100ms) n√£o exibem loading
- **RN130**: Opera√ß√µes lentas (>500ms) exibem progresso
- **RN131**: Timeouts apropriados para requisi√ß√µes
- **RN132**: Fallbacks para quando APIs n√£o est√£o dispon√≠veis

---

## üîÑ REGRAS DE INTEGRA√á√ÉO

### üåê **API REST**
- **RN133**: APIs seguem padr√µes RESTful
- **RN134**: C√≥digos HTTP s√£o usados corretamente
- **RN135**: Payloads JSON s√£o bem estruturados
- **RN136**: Versionamento de API √© considerado para futuras mudan√ßas
- **RN137**: Rate limiting pode ser implementado se necess√°rio

### üóÑÔ∏è **Banco de Dados**
- **RN138**: Integridade referencial √© mantida
- **RN139**: Constraints apropriadas previnem dados inv√°lidos
- **RN140**: √çndices otimizam consultas frequentes
- **RN141**: Migrations controlam evolu√ß√£o do schema

---

## üìà REGRAS DE MONITORAMENTO

### üìä **Logs e Auditoria**
- **RN142**: A√ß√µes cr√≠ticas s√£o logadas (cria√ß√£o, edi√ß√£o, exclus√£o)
- **RN143**: Erros s√£o registrados com contexto suficiente
- **RN144**: Logs n√£o cont√™m informa√ß√µes sens√≠veis
- **RN145**: Estrutura de logs permite an√°lise automatizada

### üîç **M√©tricas**
- **RN146**: Performance de APIs √© monitorada
- **RN147**: Erros s√£o categorizados e contabilizados
- **RN148**: Uso de recursos √© acompanhado
- **RN149**: Alertas autom√°ticos para problemas cr√≠ticos

---

## üöÄ REGRAS DE DEPLOY

### üê≥ **Containeriza√ß√£o**
- **RN150**: Aplica√ß√£o roda em containers Docker
- **RN151**: Configura√ß√µes s√£o externalizadas via vari√°veis de ambiente
- **RN152**: Healthchecks verificam status da aplica√ß√£o
- **RN153**: Recursos s√£o limitados adequadamente

### üîß **Configura√ß√£o**
- **RN154**: Diferentes perfis para dev/prod
- **RN155**: Secrets s√£o injetados de forma segura
- **RN156**: Backup de dados √© configurado
- **RN157**: SSL/TLS obrigat√≥rio em produ√ß√£o

---

**üìù Documento criado em:** 19/06/2025
**üîÑ √öltima atualiza√ß√£o:** 21/06/2025
**üë®‚Äçüíª Respons√°vel:** Equipe ServiTask  
**üìã Vers√£o:** 1.3